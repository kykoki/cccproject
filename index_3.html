<!-- translation.html -->
<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <link rel="stylesheet" href="style_2.css">
  <title>Document</title>
</head>
<body>
  <div class="home">
    <button id="home" type="button">はじめから</button>
  </div>

  <h1>もじをえにかえる　サイト</h1>
  
  <div class="top">
    <img src="images/sun.png" alt="太陽" class="sun">
  </div>
  
  <div class="search">
    <textarea cols="60" rows="2" id="text" placeholder="ほんやくしたいことばをにゅうりょくしてね"></textarea>
    <button type="reset" id="btn"><img src="images/search.png" alt="虫眼鏡" width="75" height="75"></button>
  </div>
  
  
  <div id="txt" class="result"></div>
  
  <div class="under">
    <img src="images/book.png" alt="本" class="book">
    <img src="images/tree.png" alt="木" class="tree">
    <img src="images/book.png" alt="本" class="book">
  </div>

  <script>
    const text = document.querySelector('#text');
   
    btn.addEventListener('click', function() {
      const url = 'https://script.google.com/macros/s/AKfycbxoAY6qohFOi88aToaJ4fUHAIiDmr3hNWjcFvOlEyNKUQnDPGs/exec?text='+text.value+'&source=en&target=ja'; //apiのURL
      const request = new XMLHttpRequest(); //URLのアクセス先のテキストを取得
      request.open("GET", url);
      
      request.addEventListener("load", (e) => { //翻訳ボタンが押された時の挙動
        const word = e.currentTarget.response;;
        txt.innerHTML= e.currentTarget.response; //翻訳結果出力
        openedWindow = window.open('https://www.irasutoya.com/search?q='+word , null, 'top=400,left=500,width=1000,height=400'); //いらすとやで検索したのを表示
      });

    request.send();
    })

    home.addEventListener('click', function() {
      window.location.href = 'index_3.html';
      openedWindow.close(); //開いたウィンドウを閉じる
    })
  </script>

</body>
</html>